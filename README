README to undo.m
--------------------------------------------------------------
--------------------------------------------------------------

This package adds a poor mans version control and undo functionality to Mathematica.
For a previously saved notebook  'notebook.nb' a version info file 'notebook.nb.undo.mx' is created and every time changes are commited a backup file 'notebook.nb[version].bak' is created.
System menu entries in "insert" are created.

--------------------------------------
Usage: Evaluate the following commands
--------------------------------------

Commit - Making a commit

CommitInfo - Show a list of all Versions

CommitClean - Remove all commited files

Undo - Undo to the previous commit

Redo - Undo to the next commit

GotoCommit[n] - Go to the nth version

ManualCommit (Default) - Only do commits manually.

AutoCommit - Turn on automatic commits. Every time a cell is evaluated a new commit is made. (This can lead to a lot of files)

------------------
Keyboard Shortcuts
------------------

Alt+z : Undo 
Alt+x : Redo 
Alt+s : Commit
Alt+d : Print CommitInfo at the end of the notebook

-------------------
NOTICE
------------------

Possible issue: The present notebook might not be a commited version, so no redo is possible. Especially with ManualCommits

When altering not the latest version, the changes (when running undo or redo) are not saved, only when running 'commit' these changes are changed (with a new highest version number). Only changes to the version with the highest version number are changed upon 'undo'

Weather a commit needs to be made when running undo is checked with a system variable that can be altered by manually saving the document. Leading to possible loss of changes. For best results do not save the notebook manually and turn auto save off - just use commit to save the work.

------------------------------
TODO's
------------------------------

* multiple kernels lead to multiple menu entries.

* If the notebook was not saved yet ask for filename to save it on the first commit.

* Manual commmits can still be made multiple times on the same file.

---------------------
POSSIBLE IMPROVEMENTS
---------------------

* Change in notebook is checked using a system variable. so a manual save can lead to false conclusions. This could be fixed by a real comparison of the files. or maybe use "FileModificationTime"

* Use Dumpsave and Get to backup and restore (at least partly) the memory state.

* Make autocommits after text was entered - not only on evaluations

* Add a limitation for avaliable undo steps (in autocommit mode)

---------------------
DONE
---------------------

(done) Check if the package was loaded already, to prevent multiple loads, to prevent creatation of multiple menu entries 

(done) Skip the "Are you sure you want to revert message.	   

(done) Issue with manual commits and changes in the recent version 

(done) Imporve Commits: If the notebook was not changed, do not make a new commit.

-----------------------------------------------------------------
-----------------------------------------------------------------


Copyright 2012 Jens Boberski

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.